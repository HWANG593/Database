# 데이터 베이스

## Database

### DataBase 개요

#### 데이터의 분류

* 정형 데이터(structured data)
  * 구조화된 데이터, 즉 미리 정해진 구조에 따라 저장된 데이터
  * 예) 엑셀 스프레드 시트, 관계 데이터베이스 테이블

<br>

* 반정형 데이터(semi-structured data)
  * 구조에 따라 저장된 데이터이지만 데이터 내용안에 구조에 대한 설명이 함께 존재
  * 구조를 파악하는 파싱(parsing) 과정이 필요
  * 보통 파일 형태로 저장
  * 예) HTML, XML, JSON 문서, 웹 로그, 센서 데이터

<br>

* 비정형 데이터(unstructured data)
  * 정해진 구조가 없이 저장된 데이터
  * 예) SNS 텍스트, 영상, 이미지, 워드, PDF

<br>

#### 데이터와 정보

* 데이터 

  컴퓨터 사용 시 불규칙하게 만들어지는 다양하고 많은 값

<br>

* 정보 

  체계적이고 조직적으로 관리하고 사용되는 데이터, 여러가지 값들로 표현되는 데이터를 의미있고 가치있는 형태로 가공해 놓은 것

<br>

#### DB와 DB 관리 시스템

* 데이터베이스 

  특정 조직 내에서 다수의 사용자들이 공유해 사용할 수 있도록 통합하고 저장한 운영 데이터의 집합체

<br>

* 데이터베이스 관리 시스템(DBMS)

  데이터 베이스를 생성하여 안정적이고 효율적으로 운영하는데 필요한 기능들을 제공하는 소프트웨어

<br>

#### DB의 사용자

* DB관리자, 응용 프로그래머, 일반 사용자

<br>

#### DB의 특징

* 데이터의 중복성 최소화
  * 데이터를 통합 및 분리하여 관리할 수 있게 되므로 중복성을 줄일 수 있다.

<br>

* 데이터의 일관성 유지
  * 데이터의 불일치성을 미리 방지하여 데이터를 정확하게 만들고 사용자에서 신뢰할 만한 정보를 제공할 수 있다.

<br>

* 데이터의 무결성 유지
  * 무결성(Integrity) - DB에 정확한 데이터가 유지되고 있음을 보장하는 것으로 DB에서 가장 중요한 개념, 제약조건에 맞지않는 데이터는 입력되지 않도록 방지 기능

<br>

* 데이터의 독립성 유지
  * 데이터의 표현 방법이나 저장 위치가 변하더라도 응용프로그램에는 영향을 미치지 않는다.
  * DB의 경우 데이터를 테이블 구조로 관리하기 때문에 독립성을 더욱 강화할 수 있다.

<br>

* 데이터의 공유성 최대화
  * 조직 구성원들은 응용 프로그램을 통해 DB에 저장된 공유 데이터들로부터 정보를 생성할 수 있다.

<br>

* 데이터 보안성 최대화
  * DB시스템의 성능을 평가하는 중요한 요소, 최근 DB시스템은 보안 기능을 제공한다.

<br>

* 데이터 표준화 관리
  * 데이터를 사용 목적등의 유형별로 분류해 데이터 형식이나 길이, 이름 등을 설정할 수 있다.

<br>

#### 데이터 모델의 개요

* 개념적 데이터 모델과 논리적 데이터 모델

<br>

* E - R 모델링

<br>

* 관계형 데이터베이스
  * 관계형 데이터 모델 사용
  * 가장 안정적이고 효율적인 데이터베이스
  * 개체를 테이블로 사용, 개체들 간의 공통 속성을 이용해 서로 연결
  * 자료의 구조가 단순한 업무에 적합

<br>

#### 관계형 DB 구성 요소

* 테이블 : 릴레이션 or 엔티티, 열(Column)과 행(Row)으로 구성됨
* 필드 : 속성 or 열(Column)에 해당, 데이터 값을 기억하는 단위
* 레코드 : 튜플, 테이블의 행에 해당, 카디널리티
* 후보 키 : 한 테이블 내에서 데이터 레코드를 고유하게 식별할 수 있는 필드
* 기본 키 : 후보 키 중에서 대표로 선정된 키(primary key)
* 외래 키 or 참조 키 : 관계가 설정된 다른 테이블의 기본 키를 참조하는 키

<br>

#### 데이터 제약 조건(무결성)

* 개체 무결성
  * 기본키로 제약 조건을 지정한 속성은 공백(NULL) 값이나 중복된 값을 가질 수 없다.

<br>

* 참조 무결성
  * 외래키를 통해 테이블은 참조할 수 없는 외래키 값을 가질 수 없도록 함으로써 두 테이블 간의 데이터 무결성을 유지하는 것
  * 외래키 값은 NULL이거나 참조 테이블의 기본키 값과 동일해야 한다.

<br>

#### 정규화

* 불필요한 데이터의 중복을 피하고 이상현상을 방지하기 위해 테이블을 분해(decomposition)하는 과정
* 함수적 종속이 중요한 역할을 한다.

<br>

#### 데이터 중복

* 데이터를 중복 저장하는 경우에 데이터 변경에 의해 원하지 않던 결과가 발생할 수 있다.
* 이상현상(anomaly) : 삽입이상, 삭제이상, 수정이상

<br>

* **삽입 이상(insertion anomaly)**
  * 학생이 아닌 새로운 학과가 신설될 경우 stu_id는 기본키이므로 null 삽입이 불가능함
  * 임의의 값을 생성해서 넣어야 함 -> 데이터를 삽입할 수 없거나 원치 않는 데이터 삽입

<br>

* **삭제 이상(deletion anomaly)**
  * 학번이 'xxx'인 레코드를 삭제할 경우 유일한 전자공학과 학생이라면 전자공학과가 사라짐
  * 삭제되지 말아야할 정보까지 함께 삭제되는 현상

<br>

* **수정 이상(update anomaly)**
  * 컴퓨터공학과 office가 변경된다면, dept_name이 컴퓨터공학과인 모든 레코드를 수정함
  * 일부만 변경한다면 중복된 정보의 일부만 수정하여 정보의 불일치가 발생

<br>

#### 관계 유형

* 일대일 (1:1) - 회사원과 차
* 일대다 (1:N) - 부서와 사원
* 다대다 (N:M)

<br>

---

<br>

## HeidiSQL

>HeidiSQL은 이전에는 'MySQL Front'로 알려졌던 제품
>
>MySQL, MariaDB, SQLite등 DBMS를 직접 접속하여 사용하려는 경우 
>
>DBMS 클라이언트 무료 프로그램

```django
from thirdapp.models import Emp

Emp.objects.all()

for d in Emp.objects.all():
	print(d)
	
for d in Emp.objects.order_by('hiredate'):
	print(d)
	
for d in Emp.objects.order_by('-sal'):
	print(d)
```